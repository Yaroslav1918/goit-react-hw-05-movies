"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[971],{2986:function(n,e,t){t.d(e,{Z:function(){return c}});var r=t(184);function c(n){var e=n.value;return(0,r.jsx)("h2",{children:e})}},1080:function(n,e,t){t.d(e,{n3:function(){return l},vw:function(){return d},VQ:function(){return h},wH:function(){return f},CL:function(){return p}});var r=t(5861),c=t(7757),i=t.n(c),a="https://api.themoviedb.org/3",s="1938d617a50ef3d61b3b5089a743aea2";function o(){return u.apply(this,arguments)}function u(){return u=(0,r.Z)(i().mark((function n(){var e,t,r=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"",n.next=3,fetch(e);case 3:if(!(t=n.sent).ok){n.next=10;break}return n.next=7,t.json();case 7:n.t0=n.sent,n.next=11;break;case 10:n.t0=Promise.reject(new Error("Not found"));case 11:return n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),n)}))),u.apply(this,arguments)}function l(){return o("".concat(a,"/trending/all/day?api_key=").concat(s))}function d(n){return o("".concat(a,"/search/movie?api_key=").concat(s,"&language=en-US&page=1&include_adult=false&query=").concat(n))}function h(n){return o("".concat(a,"/movie/").concat(n,"?api_key=").concat(s,"&language=en-US"))}function f(n){return o("".concat(a,"/movie/").concat(n,"/reviews?api_key=").concat(s,"&language=en-US&page=1"))}function p(n){return o("".concat(a,"/movie/").concat(n,"/credits?api_key=").concat(s,"&language=en-US"))}},9269:function(n,e){e.Z={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},2739:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var r=t(8152),c=t(2791),i=t(9271),a=t(1080),s=t(9269),o=t(4017),u=(t(3158),t(1523)),l=t(184);function d(){var n=(0,i.UO)().moviesId;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"Additional information"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)(u.rU,{to:"/movies/".concat(n,"/cast"),children:"Cast"})}),(0,l.jsx)("li",{children:(0,l.jsx)(u.rU,{to:"/movies/".concat(n,"/reviews"),children:"Reviews"})})]})]})}var h=t(6863);function f(){var n=(0,c.useState)(null),e=(0,r.Z)(n,2),t=e[0],s=e[1],o=(0,c.useState)(null),u=(0,r.Z)(o,2),d=(u[0],u[1]),f=(0,i.UO)().moviesId;return(0,c.useEffect)((function(){f&&a.CL(f).then(s).catch(d)}),[f]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("ul",{children:t&&t.cast.map((function(n){var e=n.cast_id,t=n.profile_path,r=n.original_name,c=n.character;return(0,l.jsxs)("li",{children:[(0,l.jsx)("img",{src:t?"https://image.tmdb.org/t/p/w200/".concat(t):h,alt:r}),(0,l.jsx)("p",{children:r}),(0,l.jsxs)("p",{children:["Character: ",c]})]},e)}))})})}function p(){return(0,l.jsx)("p",{children:"We don't have any reviews for this movies"})}function v(){var n=(0,c.useState)(null),e=(0,r.Z)(n,2),t=e[0],o=e[1],u=(0,c.useState)(s.Z.IDLE),d=(0,r.Z)(u,2),h=d[0],f=d[1],v=(0,c.useState)(null),j=(0,r.Z)(v,2),x=j[0],m=j[1],g=(0,i.UO)().moviesId;return(0,c.useEffect)((function(){g&&a.wH(g).then((function(n){0===n.results.length&&f(s.Z.REJECTED),o(n)})).catch(m)}),[g]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("ul",{children:t&&t.results.map((function(n){return(0,l.jsxs)("li",{children:[(0,l.jsx)("p",{children:n.author}),(0,l.jsx)("p",{children:n.content})]},n.id)}))}),"rejected"===h&&(0,l.jsx)(p,{eror:x})]})}var j="Button_btn__v+Fb-",x=t(9e3);function m(n){var e=n.film,t=(0,i.TH)(),r=(0,i.k6)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("button",{type:"button",className:j,onClick:function(){var n,e;r.push(null!==(n=null===t||void 0===t||null===(e=t.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/")},children:[(0,l.jsx)(x.qHm,{})," ",(0,l.jsx)("span",{children:" Go home"})]}),(0,l.jsx)("h3",{children:e.original_title}),(0,l.jsx)("img",{src:e.poster_path?"https://image.tmdb.org/t/p/w200/".concat(e.poster_path):h,alt:e.original_title}),(0,l.jsxs)("p",{children:[" User score: ",e.vote_average]}),(0,l.jsx)("h4",{children:"Overview"}),(0,l.jsx)("p",{children:e.overview}),(0,l.jsx)("h5",{children:"Genres"}),(0,l.jsx)("ul",{children:0===e.genres.length?(0,l.jsx)("li",{children:(0,l.jsx)("p",{children:"Genres no found"})}):e.genres.map((function(n){return(0,l.jsx)("li",{children:n.name},n.id)}))})]})}var g=t(2986);function E(){var n,e,t=(0,c.useState)(null),u=(0,r.Z)(t,2),h=u[0],p=u[1],j=(0,c.useState)(s.Z.IDLE),x=(0,r.Z)(j,2),E=x[0],Z=x[1],_=(0,c.useState)(null),w=(0,r.Z)(_,2),b=w[0],k=w[1],S=(0,i.$B)(),y=S.path,U=S.url,C=(0,i.TH)(),D=(0,c.useState)(null!==(n=null===C||void 0===C||null===(e=C.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/"),I=(0,r.Z)(D,2),F=I[0],L=(I[1],(0,i.UO)().moviesId);return(0,c.useEffect)((function(){L&&(Z(s.Z.PENDING),a.VQ(L).then((function(n){p(n),Z(s.Z.RESOLVED)})).catch((function(n){k(n),Z(s.Z.REJECTED)})))}),[L]),(0,l.jsxs)(l.Fragment,{children:["idle"===E&&null,"pending"===E&&(0,l.jsx)(o.Z,{}),"rejected"===E&&(0,l.jsx)(g.Z,{value:b}),"resolved"===E&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{film:h}),(0,l.jsx)(d,{location:F,url:U}),(0,l.jsx)(i.AW,{path:"".concat(y,"/cast"),children:L&&(0,l.jsx)(f,{})}),(0,l.jsx)(i.AW,{path:"".concat(y,"/reviews"),children:L&&(0,l.jsx)(v,{})})]})]})}},6863:function(n,e,t){n.exports=t.p+"static/media/no_image.d94858f9ed2950bcb958.jpg"}}]);
//# sourceMappingURL=MovieDetailsPage.a0246a48.chunk.js.map