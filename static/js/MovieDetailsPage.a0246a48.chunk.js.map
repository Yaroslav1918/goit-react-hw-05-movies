{"version":3,"file":"static/js/MovieDetailsPage.a0246a48.chunk.js","mappings":"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","sources":["components/Eror/Eror.js","servies/serviesApi.js","servies/status.js","components/MoviesAdditionalInfo/MoviesAdditionalInfo.js","components/Cast/Cast.js","components/NoFoundReviews/NoFoundReviews.js","components/Reviews/Reviews.js","webpack://my-app/./src/style/Button.module.css?c972","components/MoviesCard/MoviesCard.js","views/MovieDetailsPage.js"],"sourcesContent":["export default function Eror({ value }) {\r\n  return <h2>{value}</h2>;\r\n}\r\n","const BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"1938d617a50ef3d61b3b5089a743aea2\";\r\n\r\nasync function fetchWithErrorHandling(url = \"\") {\r\n  const response = await fetch(url);\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error(\"Not found\"));\r\n}\r\n\r\nexport function fetchPopularFilm() {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/trending/all/day?api_key=${API_KEY}`\r\n  );\r\n}\r\n\r\nexport function fetchMovies(name) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${name}`\r\n  );\r\n}\r\n\r\nexport function fetchFilmById(id) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\nexport function fetchReviewsById(id) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\r\n  );\r\n}\r\nexport function fetchCreditsById(id) {\r\n  return fetchWithErrorHandling(\r\n    `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n}\r\n","const Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport default Status;\r\n","import { Link, useParams, useRouteMatch } from \"react-router-dom\";\r\n\r\nexport default function MoviesAdditionalInfo() {\r\n  const { moviesId } = useParams();\r\n\r\n  return (\r\n    <>\r\n      <p>Additional information</p>\r\n      <ul>\r\n        <li>\r\n          <Link to={`/movies/${moviesId}/cast`}>Cast</Link>\r\n        </li>\r\n        <li>\r\n          <Link to={`/movies/${moviesId}/reviews`}>Reviews</Link>\r\n        </li>\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport * as serviesApi from \"../../servies/serviesApi\";\r\nimport noFoundPhoto from \"../../image/no_image.jpg\";\r\n\r\nexport default function Cast() {\r\n  const [castStats, setCastStats] = useState(null);\r\n\r\n  const [error, setError] = useState(null);\r\n  const { moviesId } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (!moviesId) return;\r\n\r\n    serviesApi.fetchCreditsById(moviesId).then(setCastStats).catch(setError);\r\n  }, [moviesId]);\r\n\r\n  return (\r\n    <>\r\n      <ul>\r\n        {castStats &&\r\n          castStats.cast.map(\r\n            ({ cast_id, profile_path, original_name, character }) => (\r\n              <li key={cast_id}>\r\n                <img\r\n                  src={\r\n                    profile_path\r\n                      ? `https://image.tmdb.org/t/p/w200/${profile_path}`\r\n                      : noFoundPhoto\r\n                  }\r\n                  alt={original_name}\r\n                />\r\n                <p>{original_name}</p>\r\n                <p>Character: {character}</p>\r\n              </li>\r\n            )\r\n          )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n","export default function NoFoundReviews() {\r\n  return <p>We don't have any reviews for this movies</p>;\r\n}\r\n","import { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport * as serviesApi from \"../../servies/serviesApi\";\r\nimport NoFoundReviews from \"../NoFoundReviews\";\r\nimport Status from \"../../servies/status\";\r\n\r\nexport default function Reviews() {\r\n  const [reviews, setReviews] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  const [error, setError] = useState(null);\r\n  const { moviesId } = useParams();\r\n  useEffect(() => {\r\n    if (!moviesId) return;\r\n\r\n    serviesApi\r\n      .fetchReviewsById(moviesId)\r\n      .then((data) => {\r\n        if (data.results.length === 0) {\r\n          setStatus(Status.REJECTED);\r\n        }\r\n        setReviews(data);\r\n      })\r\n      .catch(setError);\r\n  }, [moviesId]);\r\n\r\n  return (\r\n    <>\r\n      <ul>\r\n        {reviews &&\r\n          reviews.results.map((item) => (\r\n            <li key={item.id}>\r\n              <p>{item.author}</p>\r\n              <p>{item.content}</p>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n      {status === \"rejected\" && <NoFoundReviews eror={error} />}\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"Button_btn__v+Fb-\"};","import noFoundPhoto from \"../../image/no_image.jpg\";\r\nimport s from \"../../style//Button.module.css\";\r\nimport { FcHome } from \"react-icons/fc\";\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nexport default function MoviesCard({ film }) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    history.push(location?.state?.from ?? \"/\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button type=\"button\" className={s.btn} onClick={handleClick}>\r\n        <FcHome /> <span> Go home</span>\r\n      </button>\r\n      <h3>{film.original_title}</h3>\r\n      <img\r\n        src={\r\n          film.poster_path\r\n            ? `https://image.tmdb.org/t/p/w200/${film.poster_path}`\r\n            : noFoundPhoto\r\n        }\r\n        alt={film.original_title}\r\n      />\r\n      <p> User score: {film.vote_average}</p>\r\n      <h4>Overview</h4>\r\n      <p>{film.overview}</p>\r\n      <h5>Genres</h5>\r\n      <ul>\r\n        {film.genres.length === 0 ? (\r\n          <li>\r\n            <p>Genres no found</p>\r\n          </li>\r\n        ) : (\r\n          film.genres.map((item) => <li key={item.id}>{item.name}</li>)\r\n        )}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nMoviesCard.propTypes = {\r\n  film: PropTypes.object.isRequired,\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\nimport * as serviesApi from \"../servies/serviesApi\";\r\nimport { useRouteMatch, Route } from \"react-router-dom\";\r\nimport Status from \"../servies/status\";\r\nimport LoaderComponent from \"../components/LoaderComponent\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport MoviesAdditionalInfo from \"../components/MoviesAdditionalInfo\";\r\nimport Cast from \"../components/Cast/Cast\";\r\nimport Reviews from \"../components/Reviews/Reviews\";\r\nimport MoviesCard from \"../components/MoviesCard\";\r\nimport Eror from \"../components/Eror\";\r\n\r\nexport default function MovieDetailsPage() {\r\n  const [film, setFilm] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n  const [eror, setEror] = useState(null);\r\n  const { path, url } = useRouteMatch();\r\n  const location = useLocation();\r\n  const [prevLocation, setPrevLocation] = useState(\r\n    location?.state?.from ?? \"/\"\r\n  );\r\n\r\n  const { moviesId } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (!moviesId) return;\r\n    setStatus(Status.PENDING);\r\n    serviesApi\r\n      .fetchFilmById(moviesId)\r\n      .then((data) => {\r\n        setFilm(data);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch((error) => {\r\n        setEror(error);\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [moviesId]);\r\n  return (\r\n    <>\r\n      {status === \"idle\" && null}\r\n\r\n      {status === \"pending\" && <LoaderComponent />}\r\n\r\n      {status === \"rejected\" && <Eror value={eror} />}\r\n      {status === \"resolved\" && (\r\n        <>\r\n          <MoviesCard film={film} />\r\n          <MoviesAdditionalInfo location={prevLocation} url={url} />\r\n          <Route path={`${path}/cast`}>{moviesId && <Cast />}</Route>\r\n          <Route path={`${path}/reviews`}>{moviesId && <Reviews />}</Route>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":["Eror","value","BASE_URL","API_KEY","fetchWithErrorHandling","url","fetch","response","ok","json","Promise","reject","Error","fetchPopularFilm","fetchMovies","name","fetchFilmById","id","fetchReviewsById","fetchCreditsById","IDLE","PENDING","RESOLVED","REJECTED","MoviesAdditionalInfo","moviesId","useParams","to","Cast","useState","castStats","setCastStats","setError","useEffect","serviesApi","then","catch","cast","map","cast_id","profile_path","original_name","character","src","noFoundPhoto","alt","NoFoundReviews","Reviews","reviews","setReviews","Status","status","setStatus","error","data","results","length","item","author","content","eror","MoviesCard","film","location","useLocation","history","useHistory","type","className","s","onClick","push","state","from","original_title","poster_path","vote_average","overview","genres","MovieDetailsPage","setFilm","setEror","useRouteMatch","path","prevLocation","LoaderComponent"],"sourceRoot":""}